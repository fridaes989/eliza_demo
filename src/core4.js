// portfolio_config.js

const portfolioConfig = {
    // 投資組合基本資料
    portfolio: {
        name: "核心四基金",
        data: {
            allocations: {  
                VTI: 50,    // Total Stock Market Index Fund
                VXUS: 20,   // Total International Stock Index Fund  
                VNQ: 10,    // Real Estate Index Fund
                BND: 20     // Total Bond Market Index Fund 
            },
            CAGR: 0.0805, 
            volatility: 0.1002, 
            maxDrawdown: -0.2877,
            // Use a getter to calculate riskRatio dynamically
            get riskRatio() {
                // 'this' refers to the current object (the 'data' object)
                // Add a check to prevent division by zero
                if (this.volatility === 0) {
                    return 0;
                }
                return this.CAGR / this.volatility;
            }
        },
        description: `
        <p class="pb-4">此為增長型資產配置策略，在經典三基金組合基礎上，額外納入不動產基金（REITs），以增強抗通膨能力。</p>
        <p class="pb-4">該組合由50%美國股票、20%國際股票、10%不動產及20%美國債券組成，旨在透過更多元化的資產類別，在追求長期增長的同時，提供比傳統組合更佳的通膨保護，尤其適合希望在面對未來高通膨環境時增加防禦力的投資者。</p>        `,
        
        // 改為數組格式
        pros: [
            "資產多元化更佳：納入不動產基金（REITs），提供比傳統股債組合更廣泛的資產配置。",
            "具備抗通膨能力：不動產基金的租金和資產價值能隨通膨上漲，為組合提供額外保護。"
        ],
        
        cons: [
            "仍跑不贏大盤：與其他被動投資組合相似，此組合的目標是穩健成長，而非追求超越大盤的超額報酬。",
            "最大回撤較大：在2022年股債雙殺期間，此組合的最大回撤仍高達23.5%，波動性較高。"
        ],
        
        retirement:"大多數距離退休尚有時日的穩健規劃者",
        education:"孩子上小學，還有 10 年左右，攻守兼備",
        housing:"5-7 年的長期購房計畫"
    },

    // 績效比較表格設定
    performanceTable: {
        headers: [
            { title: '指標', key: 'metric', align: 'start', sortable: false },
            { title: '全天候策略', key: 'portfolio', align: 'center', sortable: false },
            { title: 'S&P 500', key: 'sp500', align: 'center', sortable: false },
            { title: '差異', key: 'difference', align: 'center', sortable: false }
        ],
        metrics: [
            {
                key: 'cagr',
                metric: '年化報酬率',
                format: 'percentage',
                betterWhen: 'higher'
            },
            {
                key: 'volatility', 
                metric: '年化波動率',
                format: 'percentage',
                betterWhen: 'lower'
            },
            {
                key: 'sharpe',
                metric: '風險調整報酬',
                format: 'ratio',
                betterWhen: 'higher'
            }
        ]
    },
    
    // 投資組合回測歷史數據 (CSV 格式)
    csvData: `
    date,portfolio_monthly_return,portfolio_value,sp500_value
    2018-01,0.0,10000,10000
    2018-02,1.234567,10123,10852
    2018-03,-0.567890,10066,10891
    2018-04,-0.890123,10000,10704
    2018-05,2.345678,10234,10171
    2018-06,1.456789,10383,10162
    2018-07,0.987654,10485,10846
    2018-08,1.234567,10614,10887
    2018-09,0.876543,10707,11073
    2018-10,2.345678,10958,11112
    2018-11,1.234567,11093,11517
    2018-12,-1.234567,10956,11531
    2019-01,0.876543,11052,11532
    2019-02,-0.567890,10989,11331
    2019-03,1.789012,11185,11749
    2019-04,2.123456,11422,11986
    2019-05,0.987654,11535,12201
    2019-06,1.456789,11703,12682
    2019-07,-0.234567,11676,12696
    2019-08,1.567890,11859,12822
    2019-09,0.789123,11952,13005
    2019-10,1.234567,12100,13087
    2019-11,0.567890,12169,13356
    2019-12,1.890123,12399,13395
    2020-01,-2.345678,12108,13665
    2020-02,-8.901234,11031,13987
    2020-03,-12.345678,9670,14414
    2020-04,13.456789,10972,14589
    2020-05,4.567890,11472,15410
    2020-06,2.345678,11741,14851
    2020-07,5.678901,12408,14444
    2020-08,7.234567,13306,14518
    2020-09,-3.456789,12846,14871
    2020-10,-2.789012,12488,14958
    2020-11,10.987654,13860,15513
    2020-12,3.678901,14370,16007
    2021-01,-0.567890,14289,16102
    2021-02,-2.345678,13954,14990
    2021-03,3.456789,14436,15267
    2021-04,5.123456,15175,13922
    2021-05,0.234567,15211,15036
    2021-06,2.789012,15635,15526
    2021-07,2.345678,16002,15805
    2021-08,0.567890,16093,16452
    2021-09,-4.567890,15358,15401
    2021-10,6.789012,16401,16474
    2021-11,2.123456,16749,16722
    2021-12,2.890123,17233,16443
    2022-01,-5.678901,16254,16763
    2022-02,-2.345678,15873,17133
    2022-03,1.234567,16069,17753
    2022-04,-8.901234,14640,18269
    2022-05,-0.567890,14557,18261
    2022-06,-9.123456,13229,16817
    2022-07,8.456789,14348,14717
    2022-08,-3.789012,13805,16586
    2022-09,-9.456789,12500,17376
    2022-10,7.890123,13486,17684
    2022-11,5.234567,14192,18725
    2022-12,-2.345678,13859,20032
    2023-01,6.123456,14708,19282
    2023-02,-2.567890,14331,18802
    2023-03,3.789012,14874,20846
    2023-04,1.456789,15091,21619
    2023-05,0.234567,15126,21399
    2023-06,6.789012,16153,21994
    2023-07,3.123456,16658,22993
    2023-08,-2.345678,16268,24209
    2023-09,-4.567890,15526,24368
    2023-10,-2.123456,15197,24915
    2023-11,8.901234,16550,25523
    2023-12,4.567890,17306,26283
    2024-01,1.234567,17519,25057
    2024-02,5.678901,18514,26816
    2024-03,3.123456,19092,26600
    2024-04,-4.234567,18284,27831
    2024-05,2.789012,18794,26363
    2024-06,1.567890,19089,25585
    2024-07,1.234567,19325,26547
    2024-08,2.345678,19778,24217
    2024-09,2.123456,20198,24272
    2024-10,-3.456789,19501,22270
    2024-11,2.789012,20045,24321
    2024-12,-1.234567,19798,23329`,

    // 歷年每月年化波動率數據
    volatilityByMonth: [
        { date: '2021-01', portfolio_vol: 0.08, sp500_vol: 0.15 },
        { date: '2021-02', portfolio_vol: 0.07, sp500_vol: 0.16 },
        { date: '2021-03', portfolio_vol: 0.09, sp500_vol: 0.14 },
        { date: '2021-04', portfolio_vol: 0.06, sp500_vol: 0.12 },
        { date: '2021-05', portfolio_vol: 0.05, sp500_vol: 0.11 },
        { date: '2021-06', portfolio_vol: 0.06, sp500_vol: 0.10 },
        { date: '2021-07', portfolio_vol: 0.07, sp500_vol: 0.11 },
        { date: '2021-08', portfolio_vol: 0.06, sp500_vol: 0.09 },
        { date: '2021-09', portfolio_vol: 0.08, sp500_vol: 0.13 },
        { date: '2021-10', portfolio_vol: 0.07, sp500_vol: 0.12 },
        { date: '2021-11', portfolio_vol: 0.08, sp500_vol: 0.15 },
        { date: '2021-12', portfolio_vol: 0.07, sp500_vol: 0.13 },
        { date: '2022-01', portfolio_vol: 0.12, sp500_vol: 0.22 },
        { date: '2022-02', portfolio_vol: 0.11, sp500_vol: 0.20 },
        { date: '2022-03', portfolio_vol: 0.10, sp500_vol: 0.18 },
        { date: '2022-04', portfolio_vol: 0.13, sp500_vol: 0.25 },
        { date: '2022-05', portfolio_vol: 0.12, sp500_vol: 0.23 },
        { date: '2022-06', portfolio_vol: 0.15, sp500_vol: 0.28 },
        { date: '2022-07', portfolio_vol: 0.11, sp500_vol: 0.21 },
        { date: '2022-08', portfolio_vol: 0.12, sp500_vol: 0.22 },
        { date: '2022-09', portfolio_vol: 0.16, sp500_vol: 0.30 },
        { date: '2022-10', portfolio_vol: 0.13, sp500_vol: 0.26 },
        { date: '2022-11', portfolio_vol: 0.10, sp500_vol: 0.19 },
        { date: '2022-12', portfolio_vol: 0.11, sp500_vol: 0.22 },
        { date: '2023-01', portfolio_vol: 0.09, sp500_vol: 0.17 },
        { date: '2023-02', portfolio_vol: 0.10, sp500_vol: 0.18 },
        { date: '2023-03', portfolio_vol: 0.11, sp500_vol: 0.20 },
        { date: '2023-04', portfolio_vol: 0.08, sp500_vol: 0.15 },
        { date: '2023-05', portfolio_vol: 0.09, sp500_vol: 0.16 },
        { date: '2023-06', portfolio_vol: 0.07, sp500_vol: 0.12 },
    ]
};